"""–ì—Ä–∞ Blackjack –º–∞—î –¥—É–∂–µ –ø—Ä–æ—Å—Ç—ñ –ø—Ä–∞–≤–∏–ª–∞: –≥—Ä–∞–≤—Ü—ñ –±–µ—Ä—É—Ç—å –∫–∞—Ä—Ç–∏ –ø–æ –æ–¥–Ω—ñ–π –Ω–∞–º–∞–≥–∞—é—á–∏—Å—å –∑—ñ–±—Ä–∞—Ç–∏ –±—ñ–ª—å—à–µ –Ω—ñ–∂ –æ–ø–æ–Ω–µ–Ω—Ç,
–∞–ª–µ –Ω–µ –ø–µ—Ä–µ–≤–∏—â—É—é—á–∏ 21. –ù–∞–±—ñ—Ä –∫–∞—Ä—Ç –º—ñ—Å—Ç–∏—Ç—å –∫–∞—Ä—Ç–∏ –≤—ñ–¥ 2 –¥–æ 10 –≤–∫–ª—é—á–Ω–æ, —è–∫—ñ —Ä–∞—Ö—É—é—Ç—å—Å—è –∑–∞ —ó—Ö –Ω–æ–º—ñ–Ω–∞–ª–æ–º, —Ç–∞–∫–æ–∂
–ö–æ—Ä–æ–ª—å, –î–∞–º–∞, –í–∞–ª–µ—Ç, —â–æ –∫–æ—à—Ç—É—é—Ç—å –ø–æ 10 –∫–æ–∂–Ω–∞ –∞ —Ç–∞–∫–æ–∂ –¢—É–∑, —è–∫–∏–π –º–æ–∂–µ –±—É—Ç–∏ 1 –∞–±–æ 11 –≤ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ –≤—ñ–¥ —Ç–æ–≥–æ —â–æ –∫—Ä–∞—â–µ.
–í—Ö—ñ–¥ –ø—Ä–æ–≥—Ä–∞–º–∏ –¥–µ–∫—ñ–ª—å–∫–∞ –∫–∞—Ä—Ç –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω—ñ —Å–∏–º–≤–æ–ª–∞–º–∏: 2, 3, 4, 5, 6, 7, 8, 9;  T, J, Q, K –¥–ª—è 10, –í–∞–ª–µ—Ç, –î–∞–º–∞, –ö–æ—Ä–æ–ª—å;
–ê - –¥–ª—è –¢—É–∑–∞. –†–µ–∑—É–ª—å—Ç–∞—Ç —Ä–æ–±–æ—Ç–∏ –∫—ñ–ª—å–∫—ñ—Å—Ç—å –æ—á–æ–∫ —â–æ –Ω–µ –ø–µ—Ä–µ–≤–∏—â—É—î 21, –∞–±–æ —Å–ª–æ–≤–æ 'Bust' —è–∫—â–æ —Å—É–º–∞ –±—ñ–ª—å—à–∞ –∑–∞ 21
(—Ü–µ–π –≥—Ä–∞–≤–µ—Ü—å –≤—ñ–¥—Ä–∞–∑—É –ø—Ä–æ–≥—Ä–∞—î).
-----------------------------------------------------------------------------------------------------------------------
--> –í –ø—Ä–æ–≥—Ä–∞–º—ñ —Ä–µ–∞–ª—ñ–∑–æ–≤–∞–Ω–∏–π —î–≤—Ä–æ–ø–µ–π—Å—å–∫–∏–π —Ä—ñ–∑–Ω–æ–≤–∏–¥ –≥—Ä–∏ BlackJack. –í —î–≤—Ä–æ–ø–µ–π—Å—å–∫–æ–º—É –≤–∞—Ä—ñ–∞–Ω—Ç—ñ –≥—Ä–∏ –Ω–∞ —Ä–æ–∑–¥–∞—á—ñ –∫—Ä—É–ø'—î –æ—Ç—Ä–∏–º—É—î
—Ç—ñ–ª—å–∫–∏ –æ–¥–Ω—É –≤—ñ–¥–∫—Ä–∏—Ç—É –∫–∞—Ä—Ç—É. –ì—Ä–∞–≤–µ—Ü—å –æ—Ç—Ä–∏–º—É—î –ø–æ –¥–≤—ñ –∫–∞—Ä—Ç–∏ —ñ –ø—Ä–∏–π–º–∞—î —Ä—ñ—à–µ–Ω–Ω—è –¥–æ —Ç–æ–≥–æ, —è–∫ –∫—Ä—É–ø'—î –≤—ñ–∑—å–º–µ –¥—Ä—É–≥—É –∫–∞—Ä—Ç—É. –ö–æ–ª–∏
—Ñ—ñ–Ω–∞–ª—å–Ω–∞ –∫–æ–º–±—ñ–Ω–∞—Ü—ñ—è –≥—Ä–∞–≤—Ü—è —Å—Ñ–æ—Ä–º–æ–≤–∞–Ω–∞, –∫—Ä—É–ø'—î –¥–æ–±–∏—Ä–∞—î –¥—Ä—É–≥—É –∫–∞—Ä—Ç—É.
-->–Ø–∫—â–æ –ø–µ—Ä—à–∞ –∫–∞—Ä—Ç–∞ –∫—Ä—É–ø'—î –¢—É–∑, —Ç–æ–¥—ñ –≥—Ä–∞–≤–µ—Ü—å –º–æ–∂–µ –∑–∞—Å—Ç—Ä–∞—Ö—É–≤–∞—Ç–∏—Å—è –≤—ñ–¥ –±–ª—ç–∫–¥–∂–µ–∫–∞. –î–ª—è —Ü—å–æ–≥–æ –ø–æ—Ç—Ä—ñ–±–Ω–æ –∑—Ä–æ–±–∏—Ç–∏ –¥–æ–ø–æ–≤–Ω—é–≤–∞–ª—å–Ω—É
—Å—Ç–∞–≤–∫—É –Ω–∞ –±–æ–∫—Å, —Ä—ñ–≤–Ω—É –ø–æ–ª–æ–≤–∏–Ω—É –ø–æ—á–∞—Ç–∫–æ–≤–æ—ó —Å—Ç–∞–≤–∫–∏. –Ø–∫—â–æ —É –∫—Ä—É–ø'—î –∑—ñ–±—Ä–∞–≤ –±–ª—ç–∫–¥–∂–µ–∫, —Ç–æ –≥—Ä–∞–≤–µ—Ü—å –æ—Ç—Ä–∏–º—É—î –≤–∏–∏–≥—Ä–∏—à 2:1.
–Ø–∫—â–æ –≥—Ä–∞–≤–µ—Ü—å –Ω–∞ —Ä–æ–∑–¥–∞—á—ñ –æ—Ç—Ä–∏–º–∞–≤ –±–ª—ç–∫–¥–∂–µ–∫, —Ç–æ –∫—Ä—É–ø'—î –ø—Ä–æ–ø–æ–Ω—É—î –π–æ–º—É ¬´—Ä—ñ–≤–Ω—ñ –≥—Ä–æ—à—ñ¬ª: –æ—Ç—Ä–∏–º–∞—Ç–∏ –≤–∏–ø–ª–∞—Ç—É –≤—ñ–¥—Ä–∞–∑—É –∑–∞
–∫–æ–µ—Ñ—ñ—Ü—ñ—î–Ω—Ç–æ–º 1:1 –¥–æ –≤—ñ–¥–∫—Ä–∏—Ç—Ç—è –¥—Ä—É–≥–æ—ó –∫–∞—Ä—Ç–∏ –∫—Ä—É–ø'—î.
-->–Ø–∫—â–æ –ø–µ—Ä—à–∞ –≤—ñ–¥–∫—Ä–∏—Ç–∞ –∫–∞—Ä—Ç–∞ –∫—Ä—É–ø'—î –Ω–µ –¢—É–∑, –≥—Ä–∞ –π–¥–µ –∑–∞ –∫–ª–∞—Å–∏—á–Ω–∏–º–∏ –ø—Ä–∞–≤–∏–ª–∞–º–∏ –±–ª—ç–∫–¥–∂–µ–∫–∞.
–Ø–∫—â–æ –ø–æ—á–∞—Ç–∫–æ–≤–∞ –∫–æ–º–±—ñ–Ω–∞—Ü—ñ—è = 9, 10 —á–∏ 11 –≥—Ä–∞–≤–µ—Ü—å –º–æ–∂–µ –ø—ñ–¥–Ω—è—Ç–∏ —Å—Ç–∞–≤–∫—É –≤ –¥–≤–∞ —Ä–∞–∑–∏. –ü—Ä–∏ —Ü—å–æ–º—É –π–æ–º—É –ø–æ—Ç—Ä—ñ–±–Ω–æ –¥–æ–±—Ä–∞—Ç–∏ —â–µ
–∫–∞—Ä—Ç—É, –∞–ª–µ —Ç—ñ–ª—å–∫–∏ –æ–¥–Ω—É.
-->–Ø–∫—â–æ –∫–æ–º–±—ñ–Ω–∞—Ü—ñ—è —Å–ª–∞–±–∫–∞, –≥—Ä–∞–≤–µ—Ü—å –º–æ–∂–µ –≤—ñ–¥–º–æ–≤–∏—Ç–∏—Å—è –≤—ñ–¥ —É—á–∞—Å—Ç—ñ –≤ —Ü—å–æ–º—É —Ä–∞—É–Ω–¥—ñ, –∞–ª–µ —Ü–µ —Ä—ñ—à–µ–Ω–Ω—è –ø—Ä–∏–≤–µ–¥–µ –¥–æ –∑–≥–æ—Ä–∞–Ω–Ω—è
–ø–æ–ª–æ–≤–∏–Ω–∏ —Å—Ç–∞–≤–∫–∏."""

from random import choice
from colorama import init, Fore, Style

init(autoreset=True)

"""Text styles"""
greeting_text_style = Fore.LIGHTGREEN_EX + Style.BRIGHT
information_text_style = Fore.LIGHTWHITE_EX + Style.BRIGHT
cash_text_style = Fore.LIGHTBLUE_EX + Style.BRIGHT
score_text_style = Fore.LIGHTRED_EX + Style.BRIGHT
black_jack_text_style = Fore.BLACK + Style.BRIGHT
win_text_style = Fore.LIGHTGREEN_EX + Style.BRIGHT
lose_text_style = Fore.BLACK + Style.BRIGHT
bust_text_style = Fore.RED + Style.BRIGHT
error_text_style = Fore.LIGHTRED_EX + Style.BRIGHT


def card_selection():
    deck_of_cards = ["|2‚ô•|", "|2‚ô†|", "|2‚ô¶|", "|2‚ô£|", "|3‚ô•|", "|3‚ô†|", "|3‚ô¶|", "|3‚ô£|", "|4‚ô•|", "|4‚ô†|", "|4‚ô¶|", "|4‚ô£|",
                     "|5‚ô•|", "|5‚ô†|", "|5‚ô¶|", "|5‚ô£|", "|6‚ô•|", "|6‚ô†|", "|6‚ô¶|", "|6‚ô£|", "|7‚ô•|", "|7‚ô†|", "|7‚ô¶|", "|7‚ô£|",
                     "|8‚ô•|", "|8‚ô†|", "|8‚ô¶|", "|8‚ô£|", "|9‚ô•|", "|9‚ô†|", "|9‚ô¶|", "|9‚ô£|", "|T‚ô•|", "|T‚ô†|", "|T‚ô¶|", "|T‚ô£|",
                     "|J‚ô•|", "|J‚ô†|", "|J‚ô¶|", "|J‚ô£|", "|Q‚ô•|", "|Q‚ô†|", "|Q‚ô¶|", "|Q‚ô£|", "|K‚ô•|", "|K‚ô†|", "|K‚ô¶|", "|K‚ô£|",
                     "|A‚ô•|", "|A‚ô†|", "|A‚ô¶|", "|A‚ô£|"]

    cards_values = {"|2‚ô•|": 2, "|2‚ô†|": 2, "|2‚ô¶|": 2, "|2‚ô£|": 2, "|3‚ô•|": 3, "|3‚ô†|": 3, "|3‚ô¶|": 3, "|3‚ô£|": 3, "|4‚ô•|": 4,
                    "|4‚ô†|": 4, "|4‚ô¶|": 4, "|4‚ô£|": 4, "|5‚ô•|": 5, "|5‚ô†|": 5, "|5‚ô¶|": 5, "|5‚ô£|": 5, "|6‚ô•|": 6, "|6‚ô†|": 6,
                    "|6‚ô¶|": 6, "|6‚ô£|": 6, "|7‚ô•|": 7, "|7‚ô†|": 7, "|7‚ô¶|": 7, "|7‚ô£|": 7, "|8‚ô•|": 8, "|8‚ô†|": 8, "|8‚ô¶|": 8,
                    "|8‚ô£|": 8, "|9‚ô•|": 9, "|9‚ô†|": 9, "|9‚ô¶|": 9, "|9‚ô£|": 9, "|T‚ô•|": 10, "|T‚ô†|": 10, "|T‚ô¶|": 10,
                    "|T‚ô£|": 10, "|J‚ô•|": 10, "|J‚ô†|": 10, "|J‚ô¶|": 10, "|J‚ô£|": 10, "|Q‚ô•|": 10, "|Q‚ô†|": 10, "|Q‚ô¶|": 10,
                    "|Q‚ô£|": 10, "|K‚ô•|": 10, "|K‚ô†|": 10, "|K‚ô¶|": 10, "|K‚ô£|": 10, "|A‚ô•|": 11, "|A‚ô†|": 11,
                    "|A‚ô¶|": 11, "|A‚ô£|": 11}
    deck_of_cards *= 6  # –ü—Ä–∏ —Ä–æ–∑–¥–∞—á—ñ –∑–∞–∑–≤–∏—á–∞–π –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å 4-6 —Ç–∞—Å–æ–≤–∞–Ω–∏—Ö –∫–æ–ª–æ–¥ –∫–∞—Ä—Ç

    selected_card = choice(deck_of_cards)
    selected_card_value = cards_values.get(selected_card)
    return selected_card, selected_card_value


def first_deal_of_cards():
    """–ü–µ—Ä—à–∞ —Ä–æ–∑–¥–∞—á–∞ –∫–∞—Ä—Ç. –ì—Ä–∞–≤–µ—Ü—å –±–µ—Ä–µ –¥–≤—ñ –∫–∞—Ä—Ç–∏, –∞ –∫—Ä—É–ø'—î –æ–¥–Ω—É"""
    player_deck_power = 0
    print(information_text_style + f"\n–ì—Ä–∞–≤–µ—Ü—å –æ—Ç—Ä–∏–º—É—î –∫–∞—Ä—Ç–∏: ", end="")
    for i in range(2):
        new_card = card_selection()
        print(f"{new_card[0]} ", end="")
        if new_card[1] == 11:
            ace_choice = input(information_text_style + " –í–∏–±–µ—Ä—ñ—Ç—å –∫–æ–µ—Ñ—ñ—Ü—ñ—î–Ω—Ç —Ç—É–∑–∞ (1 –∞–±–æ 11): ")
            while ace_choice != "1" and ace_choice != "11":
                ace_choice = input(information_text_style + " –í–∏–±–µ—Ä—ñ—Ç—å –∫–æ–µ—Ñ—ñ—Ü—ñ—î–Ω—Ç —Ç—É–∑–∞ (1 –∞–±–æ 11): ")
            if ace_choice == "1":
                player_deck_power += 1
            elif ace_choice == "11":
                player_deck_power += 11
        else:
            player_deck_power += new_card[1]
    print(information_text_style + f"–°–∏–ª–∞ –∫–æ–ª–æ–¥–∏:", score_text_style + f"{player_deck_power}")
    new_card = card_selection()
    croupier_deck_power = new_card[1]
    print(information_text_style + "–ö—Ä—É–ø'—î –æ—Ç—Ä–∏–º—É—î –∫–∞—Ä—Ç—É: ", f"{new_card[0]}", end=" ")
    print(information_text_style + f"–°–∏–ª–∞ –∫–æ–ª–æ–¥–∏:", score_text_style + f"{croupier_deck_power}")
    return player_deck_power, croupier_deck_power


def dealer_takes_the_card(player_blackjack, croupier_deck_power, player_deck_power):
    """–§—É–Ω–∫—Ü—ñ—è, –≤ —è–∫—ñ–π –∑–∞–ø–∏—Å–∞–Ω–∞ '–ø–æ–≤–µ–¥—ñ–Ω–∫–∞' –∫—Ä—É–ø'—î –ø—Ä–∏ –≤–∏–ø–∞–¥—ñ–Ω–Ω—ñ –ø–µ–≤–Ω–æ—ó –∫–∞—Ä—Ç–∏"""
    if player_blackjack:
        while croupier_deck_power < 21:
            new_card = card_selection()
            print(information_text_style + f"–ö—Ä—É–ø'—î –≤–∏–ø–∞–ª–∞ –∫–∞—Ä—Ç–∞: {new_card[0]}")
            if new_card[1] + croupier_deck_power == 21:
                croupier_deck_power += 11
            else:
                croupier_deck_power += 1
            croupier_deck_power += new_card[1]
    else:
        while croupier_deck_power < player_deck_power:
            new_card = card_selection()
            print(information_text_style + f"–ö—Ä—É–ø'—î –≤–∏–ø–∞–ª–∞ –∫–∞—Ä—Ç–∞: {new_card[0]}")
            croupier_deck_power += new_card[1]
        return croupier_deck_power


def event_player_blackjack(croupier_deck_power):
    """–Ø–∫—â–æ –≥—Ä–∞–≤–µ—Ü—å –ø–æ–≥–æ–¥–∏—Ç—å—Å—è –Ω–∞ –Ω—ñ—á–∏–π–Ω—É —Å—Ç–∞–≤–∫—É, —Ç–æ –æ–¥—Ä–∞–∑—É –∂–µ –≤–∏–≥—Ä–∞—î –≥—Ä–æ—à—ñ –∑ –∫–æ–µ—Ñ—ñ—Ü—ñ—î–Ω—Ç–æ–º 1:1
    –í —ñ–Ω—à–æ–º—É –≤–∏–ø–∞–¥–∫—É –≥—Ä–∞ –ø—Ä–æ–¥–æ–≤–∂–∏—Ç—å—Å—è –ø–æ –∑–≤–∏—á–Ω–∏–º –ø—Ä–∞–≤–∏–ª–∞–º"""
    print(information_text_style + "–•–æ—á–µ—Ç–µ –∑—Ä–æ–±–∏—Ç–∏ –Ω—ñ—á–∏–π–Ω—É —Å—Ç–∞–≤–∫—É? –ö–æ–µ—Ñ—ñ—Ü—ñ—î–Ω—Ç –≤–∏–≥—Ä–∞—à—É 1:1 (Yes/No)")
    player_blackjack_choice = input()
    while player_blackjack_choice != "Yes" and player_blackjack_choice != "No":
        print(error_text_style + "–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞ –∫–æ–º–∞–Ω–¥–∞!")
        player_blackjack_choice = input()
    print(information_text_style + "—Ç–∞ –∫—Ä—É–ø'—î:", score_text_style + f"{croupier_deck_power}")
    if player_blackjack_choice == "Yes":
        return "Player Win", 2
    elif player_blackjack_choice == "No":
        croupier_choice = dealer_takes_the_card(True, croupier_deck_power, None)
        if croupier_choice == 21:
            return "Push", 0
        else:
            return "Player Win", 2.5


def do_insurance(player_deck_power, croupier_deck_power):
    """–Ø–∫—â–æ –≥—Ä–∞–≤–µ—Ü—å –ø–æ–≥–æ–¥–∏—Ç—å—Å—è –Ω–∞ —Å—Ç—Ä–∞—Ö—ñ–≤–∫—É —ñ –∫—Ä—É–ø'—î –≤–∏–ø–∞–¥–µ –ë–ª–µ–∫–¥–∂–µ–∫, –≥—Ä–∞–≤–µ—Ü—å –æ—Ç—Ä–∏–º–∞—î –≤–∏–≥—Ä–∞—à.
     –í —ñ–Ω—à–æ–º—É –≤–∏–ø–∞–¥–∫—É –±—É–¥–µ –Ω—ñ—á–∏—è"""
    print(information_text_style + "\n–î–æ—Å—Ç—É–ø–Ω–∞ —Å—Ç—Ä–∞—Ö—ñ–≤–∫–∞ –≤—ñ–¥ –ë–ª–µ–∫–¥–∂–µ–∫–∞. –¶—ñ–Ω–∞ 50% –ø–æ—á–∞—Ç–∫–æ–≤–æ—ó —Å—Ç–∞–≤–∫–∏!  Yes/No")
    player_insurance_choice = input()
    while player_insurance_choice != "Yes" and player_insurance_choice != "No":
        print(error_text_style + "–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞ –∫–æ–º–∞–Ω–¥–∞!")
        player_insurance_choice = input()
    if player_insurance_choice == "Yes":
        new_card = card_selection()
        croupier_deck_power += new_card[1]
        print(information_text_style + f"–ö—Ä—É–ø'—î –≤–∏–ø–∞–ª–∞ –∫–∞—Ä—Ç–∞: {new_card[0]}")
        if croupier_deck_power == 21:
            return "Player Win", 1.50
        else:
            return "Push", 0
    else:
        return do_hit_stand_surrender(player_deck_power, croupier_deck_power)


def do_double_bet(player_deck_power, croupier_deck_power):
    """–Ø–∫—â–æ —Å–∏–ª–∞ –∫–æ–ª–æ–¥–∏ –≥—Ä–∞–≤—Ü—è –ø—ñ—Å–ª—è –ø–µ—Ä—à–æ—ó —Ä–æ–∑–¥–∞—á—ñ == 9, 10 —á–∏ 11, –≤—ñ–Ω –º–æ–∂–µ –ø–æ–¥–≤–æ—ó—Ç–∏ —Å—Ç–∞–≤–∫—É —ñ –¥–æ–±—Ä–∞—Ç–∏ –æ–¥–Ω—É
    –¥–æ–¥–∞—Ç–∫–æ–≤—É –∫–∞—Ä—Ç—É"""
    print(information_text_style + "\n–î–æ—Å—Ç—É–ø–Ω–µ –ø–æ–¥–≤–æ—î–Ω–Ω—è —Å—Ç–∞–≤–∫–∏. –¶—ñ–Ω–∞ +100% –≤—ñ–¥ –ø–æ—á–∞—Ç–∫–æ–≤–æ—ó —Å—Ç–∞–≤–∫–∏!  Yes/No")
    player_double_choice = input()
    while player_double_choice != "Yes" and player_double_choice != "No":
        print(error_text_style + "–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞ –∫–æ–º–∞–Ω–¥–∞!")
        player_double_choice = input()
    if player_double_choice == "Yes":
        new_card = card_selection()
        print(information_text_style + f"–í–∞–º –≤–∏–ø–∞–ª–∞ –∫–∞—Ä—Ç–∞: {new_card[0]}")
        if new_card[1] == 11:
            ace_choice = input(information_text_style + " –í–∏–±–µ—Ä—ñ—Ç—å –∫–æ–µ—Ñ—ñ—Ü—ñ—î–Ω—Ç —Ç—É–∑–∞ (1 –∞–±–æ 11): ")
            while ace_choice != "1" and ace_choice != "11":
                ace_choice = input(information_text_style + " –í–∏–±–µ—Ä—ñ—Ç—å –∫–æ–µ—Ñ—ñ—Ü—ñ—î–Ω—Ç —Ç—É–∑–∞ (1 –∞–±–æ 11): ")
            if ace_choice == "1":
                player_deck_power += 1
            elif ace_choice == "11":
                player_deck_power += 11
        else:
            player_deck_power += new_card[1]
        croupier_deck_power = dealer_takes_the_card(False, croupier_deck_power, player_deck_power)
        print(information_text_style + "–°–∏–ª–∞ –∫–æ–ª–æ–¥–∏ –≥—Ä–∞–≤—Ü—è", score_text_style + f"{player_deck_power}",
              information_text_style + "—Ç–∞ –∫—Ä—É–ø'—î:", score_text_style + f"{croupier_deck_power}")
        if croupier_deck_power > 21:
            print(bust_text_style + "Croupier bust!")
            return "Player Win", 4
        elif croupier_deck_power < 21:
            print(bust_text_style + "Player Lose!")
            return "Player Lose", 2
        if croupier_deck_power < player_deck_power:
            return "Player Win", 4
        elif croupier_deck_power > player_deck_power:
            return "Player Lose", 2
        else:
            return "Push", 0
    else:
        return do_hit_stand_surrender(player_deck_power, croupier_deck_power)


def do_hit_stand_surrender(player_deck_power, croupier_deck_power):
    """Hit - –≤–∑—è—Ç–∏ –¥–æ–¥–∞—Ç–∫–æ–≤—É –∫–∞—Ä—Ç—É, Stand - –±—ñ–ª—å—à–µ –Ω–µ –¥–æ–±–∏—Ä–∞—Ç–∏ –∫–∞—Ä—Ç —ñ –ø–µ—Ä–µ–¥–∞—Ç–∏ —Ö—ñ–¥ –∫—Ä—É–ø'—î,
    Surrender - –∑–¥–∞—Ç–∏—Å—å —ñ –æ—Ç—Ä–∏–º–∞—Ç–∏ 50% –≤—ñ–¥ –ø–æ—á–∞—Ç–∫–æ–≤–æ—ó —Å—Ç–∞–≤–∫–∏"""
    print(information_text_style + f"\n–í–∏–±–µ—Ä—ñ—Ç—å –¥—ñ—é: Hit, Stand, Surrender")
    player_move = input()
    while player_move != "Hit" and player_move != "Stand" and player_move != "Surrender":
        print(error_text_style + "–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞ –∫–æ–º–∞–Ω–¥–∞!")
        player_move = input()
    if player_move == "Hit":
        new_card = card_selection()
        print(information_text_style + f"–í–∞–º –≤–∏–ø–∞–ª–∞ –∫–∞—Ä—Ç–∞: {new_card[0]}")
        if new_card[1] == 11:
            ace_choice = input(information_text_style + " –í–∏–±–µ—Ä—ñ—Ç—å –∫–æ–µ—Ñ—ñ—Ü—ñ—î–Ω—Ç —Ç—É–∑–∞ (1 –∞–±–æ 11): ")
            while ace_choice != "1" and ace_choice != "11":
                ace_choice = input(information_text_style + " –í–∏–±–µ—Ä—ñ—Ç—å –∫–æ–µ—Ñ—ñ—Ü—ñ—î–Ω—Ç —Ç—É–∑–∞ (1 –∞–±–æ 11): ")
            if ace_choice == "1":
                player_deck_power += 1
            elif ace_choice == "11":
                player_deck_power += 11
        else:
            player_deck_power += new_card[1]
        print(information_text_style + f"–°–∏–ª–∞ –∫–æ–ª–æ–¥–∏: {player_deck_power}")
        if player_deck_power > 21:
            print(bust_text_style + "Player bust!")
            return "Player Lose", 1
        else:
            return do_hit_stand_surrender(player_deck_power, croupier_deck_power)
    elif player_move == "Stand":
        croupier_deck_power = dealer_takes_the_card(False, croupier_deck_power, player_deck_power)
        if croupier_deck_power > 21:
            print(information_text_style + "–°–∏–ª–∞ –∫–æ–ª–æ–¥–∏ –≥—Ä–∞–≤—Ü—è", score_text_style + f"{player_deck_power}",
                  information_text_style + "—Ç–∞ –∫—Ä—É–ø'—î:", score_text_style + f"{croupier_deck_power}")
            print(bust_text_style + "Croupier bust!")
            return "Player Win", 2
        else:
            print(information_text_style + "–°–∏–ª–∞ –∫–æ–ª–æ–¥–∏ –≥—Ä–∞–≤—Ü—è", score_text_style + f"{player_deck_power}",
                  information_text_style + "—Ç–∞ –∫—Ä—É–ø'—î:", score_text_style + f"{croupier_deck_power}")
            return "Player Lose", 1
    elif player_move == "Surrender":
        print(information_text_style + "–°–∏–ª–∞ –∫–æ–ª–æ–¥–∏ –≥—Ä–∞–≤—Ü—è", score_text_style + f"{player_deck_power}",
              information_text_style + "—Ç–∞ –∫—Ä—É–ø'—î:", score_text_style + f"{croupier_deck_power}")
        return "Player Lose", 0.5

    if croupier_deck_power > 21:
        print(information_text_style + "–°–∏–ª–∞ –∫–æ–ª–æ–¥–∏ –≥—Ä–∞–≤—Ü—è", score_text_style + f"{player_deck_power}",
              information_text_style + "—Ç–∞ –∫—Ä—É–ø'—î:", score_text_style + f"{croupier_deck_power}")
        print(bust_text_style + "Croupier bust!")
        return "Player Win", 2
    elif croupier_deck_power < player_deck_power:
        print(information_text_style + "–°–∏–ª–∞ –∫–æ–ª–æ–¥–∏ –≥—Ä–∞–≤—Ü—è", score_text_style + f"{player_deck_power}",
              information_text_style + "—Ç–∞ –∫—Ä—É–ø'—î:", score_text_style + f"{croupier_deck_power}")
        return "Player Win", 2
    elif croupier_deck_power > player_deck_power:
        print(information_text_style + "–°–∏–ª–∞ –∫–æ–ª–æ–¥–∏ –≥—Ä–∞–≤—Ü—è", score_text_style + f"{player_deck_power}",
              information_text_style + "—Ç–∞ –∫—Ä—É–ø'—î:", score_text_style + f"{croupier_deck_power}")
        return "Player Lose", 1
    else:
        print(information_text_style + "–°–∏–ª–∞ –∫–æ–ª–æ–¥–∏ –≥—Ä–∞–≤—Ü—è", score_text_style + f"{player_deck_power}",
              information_text_style + "—Ç–∞ –∫—Ä—É–ø'—î:", score_text_style + f"{croupier_deck_power}")
        return "Push", 0


def determining_the_winner():
    first_cards = first_deal_of_cards()
    player_deck_power = first_cards[0]
    croupier_deck_power = first_cards[1]
    if player_deck_power == 21:
        print(black_jack_text_style + "BlackJack!\n")
        return event_player_blackjack(croupier_deck_power)
    elif croupier_deck_power == 11:
        return do_insurance(player_deck_power, croupier_deck_power)
    elif 12 > player_deck_power > 8:
        return do_double_bet(player_deck_power, croupier_deck_power)
    else:
        return do_hit_stand_surrender(player_deck_power, croupier_deck_power)


def player_doing_bet():
    chip_1 = (Fore.WHITE + "„Äñùüè„Äó")
    chip_5 = (Fore.RED + "„Äñ5„Äó")
    chip_25 = (Fore.GREEN + "„Äñ25„Äó")
    chip_50 = (Fore.BLUE + "„Äñ50„Äó")
    chip_100 = (Fore.BLACK + "„Äñ100„Äó")
    chip_500 = (Fore.MAGENTA + "„Äñ500„Äó")
    chip_1000 = (Fore.YELLOW + "„Äñ1000„Äó")
    print(information_text_style + f"–ó—Ä–æ–±—ñ—Ç—å —Å–≤–æ—é —Å—Ç–∞–≤–∫—É {chip_1}{chip_5}{chip_25}{chip_50}{chip_100}"
                                   f"{chip_500}{chip_1000}", end="" f":\n")
    bet = input()
    while bet != "1" and bet != "5" and bet != "25" and bet != "50" and bet != "100" and bet != "500" and bet != "1000":
        print(error_text_style + "–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞ —Å—Ç–∞–≤–∫–∞!")
        bet = input()
    bet = int(bet)
    return bet


def announcement_of_results():
    player_cash = 1000
    while player_cash >= 1:
        print(information_text_style + "–ù–∞ –≤–∞—à–æ–º—É —Ä–∞—Ö—É–Ω–∫—É", cash_text_style + f"{player_cash}$")
        player_bet = player_doing_bet()
        score = determining_the_winner()
        if score[0] == "Player Win":
            player_cash += player_bet * score[1]
            print(win_text_style + f"–í–∏ –≤–∏–≥—Ä–∞–ª–∏ {player_bet * score[1]}$!\n\n")
        elif score[0] == "Player Lose":
            player_cash -= player_bet * score[1]
            print(lose_text_style + f"–í–∏ –ø—Ä–æ–≥—Ä–∞–ª–∏ {player_bet * score[1]}$!\n\n")
        elif score[0] == "Push":
            player_cash += player_bet * score[1]
            print(information_text_style + f"–ù—ñ—á–∏—è!\n\n")
    else:
        print(score_text_style + f"–ù–∞ –≤–∞—à–æ–º—É —Ä–∞—Ö—É–Ω–∫—É {player_cash}$! Game Over!")


def main():
    print(greeting_text_style + "{:>40}".format("European BlackJack!"))
    print(information_text_style + "-" * 60)
    announcement_of_results()


if __name__ == "__main__":
    main()
